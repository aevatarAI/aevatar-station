# Aevatar.Aspire - åˆ†å¸ƒå¼å¾®æœåŠ¡ç¼–æ’å¹³å°

## ğŸš€ ç®€ä»‹

**Aevatar.Aspire** æ˜¯åŸºäº .NET Aspire æ„å»ºçš„ç°ä»£åŒ–åˆ†å¸ƒå¼å¾®æœåŠ¡ç¼–æ’å¹³å°ï¼Œä¸“ä¸ºç®€åŒ–å¤æ‚å¾®æœåŠ¡æ¶æ„çš„å¼€å‘ã€éƒ¨ç½²å’Œè¿ç»´è€Œè®¾è®¡ã€‚å®ƒé›†æˆäº†å®Œæ•´çš„å¯è§‚æµ‹æ€§å·¥å…·é“¾å’Œæ™ºèƒ½åŒ–çš„æœåŠ¡ç¼–æ’èƒ½åŠ›ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œè€Œä¸æ˜¯åŸºç¡€è®¾æ–½çš„ç®¡ç†ã€‚

é€šè¿‡ Aevatar.Aspireï¼Œä½ å¯ä»¥ä¸€é”®å¯åŠ¨åŒ…å« 14 ä¸ªç»„ä»¶çš„å®Œæ•´å¾®æœåŠ¡ç”Ÿæ€ç³»ç»Ÿï¼Œäº«å—ä¼ä¸šçº§çš„å¼€å‘ä½“éªŒã€‚

## ğŸ“‹ ç›®å½• / Table of Contents

- [ğŸš€ ç®€ä»‹](#-ç®€ä»‹)
- [âœ¨ é€šè¿‡è¿™ä¸ªé¡¹ç›®ä½ èƒ½åšä»€ä¹ˆ](#-é€šè¿‡è¿™ä¸ªé¡¹ç›®ä½ èƒ½åšä»€ä¹ˆ)
  - [ğŸ¯ ç»Ÿä¸€æœåŠ¡ç¼–æ’](#-ç»Ÿä¸€æœåŠ¡ç¼–æ’)
  - [ğŸ“Š å®Œæ•´å¯è§‚æµ‹æ€§](#-å®Œæ•´å¯è§‚æµ‹æ€§)  
  - [ğŸ”§ å¼€å‘æ•ˆç‡æå‡](#-å¼€å‘æ•ˆç‡æå‡)
  - [ğŸ—ï¸ ä¼ä¸šçº§æ¶æ„æ”¯æŒ](#ï¸-ä¼ä¸šçº§æ¶æ„æ”¯æŒ)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
  - [å‰ç½®è¦æ±‚](#å‰ç½®è¦æ±‚)
  - [å®‰è£… Aspire å·¥ä½œè´Ÿè½½](#å®‰è£…-aspire-å·¥ä½œè´Ÿè½½)
  - [ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰](#ä¸€é”®å¯åŠ¨æ¨è)
  - [éªŒè¯å®‰è£…](#éªŒè¯å®‰è£…)
- [ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ](#ï¸-æ¶æ„æ¦‚è§ˆ)
  - [æ•´ä½“æ¶æ„å›¾](#æ•´ä½“æ¶æ„å›¾)
  - [æ ¸å¿ƒç»„ä»¶è¯´æ˜](#æ ¸å¿ƒç»„ä»¶è¯´æ˜)
  - [æŠ€æœ¯ç‰¹è‰²](#æŠ€æœ¯ç‰¹è‰²)
- [ğŸ“š è¯¦ç»†ä½¿ç”¨æŒ‡å—](#-è¯¦ç»†ä½¿ç”¨æŒ‡å—)
  - [æ—¥å¸¸å¼€å‘å·¥ä½œæµ](#æ—¥å¸¸å¼€å‘å·¥ä½œæµ)
  - [é«˜çº§å¯åŠ¨é€‰é¡¹](#é«˜çº§å¯åŠ¨é€‰é¡¹)
  - [æ€§èƒ½ä¼˜åŒ–å»ºè®®](#æ€§èƒ½ä¼˜åŒ–å»ºè®®)
- [ğŸ› ï¸ æ•…éšœæ’é™¤](#ï¸-æ•…éšœæ’é™¤)
  - [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
  - [è°ƒè¯•å·¥å…·](#è°ƒè¯•å·¥å…·)
- [ğŸ“ è¿›é˜¶ä½¿ç”¨](#-è¿›é˜¶ä½¿ç”¨)
  - [è‡ªåŠ¨åŒ–å¯åŠ¨è„šæœ¬](#è‡ªåŠ¨åŒ–å¯åŠ¨è„šæœ¬)
  - [å¤šç¯å¢ƒé…ç½®](#å¤šç¯å¢ƒé…ç½®)
  - [ç›‘æ§å‘Šè­¦é…ç½®](#ç›‘æ§å‘Šè­¦é…ç½®)
- [ğŸ“ æŠ€æœ¯æ”¯æŒ](#-æŠ€æœ¯æ”¯æŒ)
- [ğŸ“ˆ ç‰ˆæœ¬å†å²](#-ç‰ˆæœ¬å†å²)

---

## âœ¨ é€šè¿‡è¿™ä¸ªé¡¹ç›®ä½ èƒ½åšä»€ä¹ˆ

### ğŸ¯ ç»Ÿä¸€æœåŠ¡ç¼–æ’
- **ä¸€é”®å¯åŠ¨** - å•ä¸ªå‘½ä»¤å¯åŠ¨æ‰€æœ‰å¾®æœåŠ¡å’ŒåŸºç¡€è®¾æ–½ç»„ä»¶
- **æ™ºèƒ½ä¾èµ–ç®¡ç†** - è‡ªåŠ¨å¤„ç†æœåŠ¡é—´çš„å¯åŠ¨é¡ºåºå’Œä¾èµ–å…³ç³»
- **æœåŠ¡å‘ç°** - å†…ç½®æœåŠ¡æ³¨å†Œä¸å‘ç°æœºåˆ¶
- **é…ç½®ç®¡ç†** - ç»Ÿä¸€çš„ç¯å¢ƒå˜é‡å’Œé…ç½®æ³¨å…¥

### ğŸ“Š å®Œæ•´å¯è§‚æµ‹æ€§
- **åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª** - ä½¿ç”¨ Jaeger è¿½è¸ªè¯·æ±‚åœ¨å¾®æœåŠ¡é—´çš„å®Œæ•´è°ƒç”¨é“¾è·¯
- **å®æ—¶ç›‘æ§** - é€šè¿‡ Prometheus + Grafana ç›‘æ§ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
- **æ—¥å¿—èšåˆ** - ç»Ÿä¸€çš„æ—¥å¿—æ”¶é›†å’ŒæŸ¥çœ‹ç•Œé¢
- **å¥åº·æ£€æŸ¥** - å®æ—¶ç›‘æ§æ‰€æœ‰æœåŠ¡çš„å¥åº·çŠ¶æ€

### ğŸ”§ å¼€å‘æ•ˆç‡æå‡
- **çƒ­é‡è½½** - ä»£ç ä¿®æ”¹åè‡ªåŠ¨é‡è½½ï¼Œæ— éœ€é‡å¯æ•´ä¸ªç³»ç»Ÿ
- **API æ–‡æ¡£** - è‡ªåŠ¨ç”Ÿæˆçš„ Swagger UI æ¥å£æ–‡æ¡£
- **è°ƒè¯•å‹å¥½** - å†…ç½®å¤šä¸ª Dashboard ä¾¿äºå¼€å‘è°ƒè¯•
- **ç¯å¢ƒä¸€è‡´æ€§** - å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒé…ç½®ç»Ÿä¸€

### ğŸ—ï¸ ä¼ä¸šçº§æ¶æ„æ”¯æŒ
- **Orleans é›†ç¾¤** - åˆ†å¸ƒå¼å¤„ç†å¼•æ“ï¼Œæ”¯æŒæ¨ªå‘æ‰©å±•
- **äº‹ä»¶é©±åŠ¨** - åŸºäº Kafka çš„å¼‚æ­¥äº‹ä»¶å¤„ç†æœºåˆ¶
- **æ•°æ®å­˜å‚¨** - å¤šç§æ•°æ®å­˜å‚¨æ–¹æ¡ˆï¼ˆMongoDBã€Redisã€Elasticsearchï¼‰
- **AI èƒ½åŠ›** - é›†æˆ Qdrant å‘é‡æ•°æ®åº“æ”¯æŒ AI åº”ç”¨

---

[â¬†ï¸ è¿”å›ç›®å½•](#-ç›®å½•--table-of-contents)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- [.NET 9 SDK](https://dotnet.microsoft.com/download/dotnet/9.0)
- [Docker Desktop](https://www.docker.com/products/docker-desktop/)
- [.NET Aspire workload](https://learn.microsoft.com/en-us/dotnet/aspire/get-started/install)

### å®‰è£… Aspire å·¥ä½œè´Ÿè½½

```bash
dotnet workload install aspire
```

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# 1. å¯åŠ¨åŸºç¡€è®¾æ–½
cd src/Aevatar.Aspire
docker-compose up -d

# 2. åˆå§‹åŒ–æ•°æ®åº“ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
cd ../Aevatar.DBMigrator
dotnet run

# 3. é…ç½® Orleans ç½‘ç»œï¼ˆmacOS ç”¨æˆ·ï¼‰
sudo ifconfig lo0 alias 127.0.0.2
sudo ifconfig lo0 alias 127.0.0.3

# 4. å¯åŠ¨æ‰€æœ‰æœåŠ¡
cd ../Aevatar.Aspire
dotnet run
```

### éªŒè¯å®‰è£…

å¯åŠ¨æˆåŠŸåï¼Œä½ å¯ä»¥è®¿é—®ä»¥ä¸‹åœ°å€éªŒè¯ç³»ç»ŸçŠ¶æ€ï¼š

- **Aspire Dashboard**: https://localhost:18888 - æ€»æ§åˆ¶å°
- **API æ–‡æ¡£**: http://localhost:7002/swagger - æ ¸å¿ƒ API
- **å¼€å‘è€…å·¥å…·**: http://localhost:7003/swagger - å¼€å‘è€… API
- **Orleans ç›‘æ§**: http://localhost:8080 - åˆ†å¸ƒå¼ç³»ç»Ÿç›‘æ§
- **é“¾è·¯è¿½è¸ª**: http://localhost:16686 - è¯·æ±‚é“¾è·¯åˆ†æ

---

[â¬†ï¸ è¿”å›ç›®å½•](#-ç›®å½•--table-of-contents)

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Aevatar.Aspire ç¼–æ’å±‚                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åº”ç”¨æœåŠ¡å±‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  AuthServer  â”‚ â”‚ HttpApi.Host â”‚ â”‚Developer.Hostâ”‚              â”‚
â”‚  â”‚   (7001)     â”‚ â”‚   (7002)     â”‚ â”‚   (7003)     â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                Orleans åˆ†å¸ƒå¼é›†ç¾¤                            â”‚ â”‚
â”‚  â”‚  Scheduler Silo  â”‚  Projector Silo  â”‚  User Silos...       â”‚ â”‚
â”‚  â”‚   (127.0.0.2)    â”‚   (127.0.0.3)    â”‚  (åŠ¨æ€åˆ†é…)           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºç¡€è®¾æ–½å±‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ MongoDB  â”‚ â”‚  Redis   â”‚ â”‚Elasticsearchâ”‚ â”‚  Kafka   â”‚            â”‚
â”‚  â”‚ (27017)  â”‚ â”‚ (6379)   â”‚ â”‚  (9200)    â”‚ â”‚ (9092)   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ Qdrant   â”‚ â”‚ Jaeger   â”‚ â”‚Prometheusâ”‚ â”‚ Grafana  â”‚            â”‚
â”‚  â”‚(6333/34) â”‚ â”‚ (16686)  â”‚ â”‚ (9091)   â”‚ â”‚ (3000)   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶è¯´æ˜

#### ğŸ¯ åº”ç”¨æœåŠ¡å±‚

| æœåŠ¡åç§° | ç«¯å£ | åŠŸèƒ½æè¿° | æŠ€æœ¯æ ˆ |
|---------|------|----------|--------|
| **AuthServer** | 7001 | èº«ä»½è®¤è¯ä¸æˆæƒä¸­å¿ƒ | ASP.NET Core + Identity |
| **HttpApi.Host** | 7002 | æ ¸å¿ƒä¸šåŠ¡APIæœåŠ¡ | ASP.NET Core Web API |
| **Developer.Host** | 7003 | å¼€å‘è€…å·¥å…·å’ŒAPI | ASP.NET Core + Swagger |
| **Orleans Silos** | å¤šç«¯å£ | åˆ†å¸ƒå¼å¤„ç†å¼•æ“é›†ç¾¤ | Microsoft Orleans |
| **Worker Service** | - | åå°ä»»åŠ¡å¤„ç†å™¨ | .NET Hosted Service |

#### ğŸ”§ åŸºç¡€è®¾æ–½å±‚

| ç»„ä»¶åç§° | ç«¯å£ | åŠŸèƒ½æè¿° | è®¿é—®æ–¹å¼ |
|---------|------|----------|----------|
| **MongoDB** | 27017 | ä¸»æ–‡æ¡£æ•°æ®åº“ | åº”ç”¨å†…éƒ¨è®¿é—® |
| **MongoDB-ES** | 27018 | äº‹ä»¶å­˜å‚¨æ•°æ®åº“ | äº‹ä»¶æº¯æºå­˜å‚¨ |
| **Redis** | 6379 | ç¼“å­˜å’Œä¼šè¯å­˜å‚¨ | åº”ç”¨å†…éƒ¨è®¿é—® |
| **Elasticsearch** | 9200 | å…¨æ–‡æœç´¢å¼•æ“ | http://localhost:9200 |
| **Kafka** | 9092 | äº‹ä»¶æµå¤„ç†å¹³å° | åº”ç”¨å†…éƒ¨è®¿é—® |
| **Qdrant** | 6333/6334 | AIå‘é‡æ•°æ®åº“ | http://localhost:6333/dashboard |

#### ğŸ“Š å¯è§‚æµ‹æ€§ç»„ä»¶

| ç»„ä»¶åç§° | ç«¯å£ | åŠŸèƒ½æè¿° | è®¿é—®åœ°å€ |
|---------|------|----------|----------|
| **Aspire Dashboard** | 18888 | ç»Ÿä¸€ç›‘æ§æ§åˆ¶å° | https://localhost:18888 |
| **Jaeger** | 16686 | åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª | http://localhost:16686 |
| **Prometheus** | 9091 | æŒ‡æ ‡æ•°æ®æ”¶é›† | http://localhost:9091 |
| **Grafana** | 3000 | å¯è§†åŒ–ç›‘æ§ä»ªè¡¨æ¿ | http://localhost:3000 |
| **Orleans Dashboard** | 8080 | Orleansé›†ç¾¤ç›‘æ§ | http://localhost:8080 |

### æŠ€æœ¯ç‰¹è‰²

#### ğŸ¯ Orleans åˆ†å¸ƒå¼æ¶æ„
- **Actoræ¨¡å‹** - åŸºäºè™šæ‹ŸActorçš„åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶
- **è‡ªåŠ¨é›†ç¾¤** - æ”¯æŒèŠ‚ç‚¹åŠ¨æ€åŠ å…¥å’Œç¦»å¼€
- **æŒä¹…åŒ–** - ä½¿ç”¨MongoDBè¿›è¡ŒçŠ¶æ€æŒä¹…åŒ–
- **äº‹ä»¶æº¯æº** - å®Œæ•´çš„äº‹ä»¶å­˜å‚¨å’Œé‡æ”¾æœºåˆ¶

#### ğŸ“Š å…¨é“¾è·¯å¯è§‚æµ‹æ€§
- **æŒ‡æ ‡ç›‘æ§** - Prometheusæ”¶é›†ç³»ç»Ÿå’Œä¸šåŠ¡æŒ‡æ ‡
- **é“¾è·¯è¿½è¸ª** - Jaegerè¿½è¸ªè¯·æ±‚å®Œæ•´è°ƒç”¨é“¾
- **æ—¥å¿—èšåˆ** - ç»“æ„åŒ–æ—¥å¿—ç»Ÿä¸€æ”¶é›†
- **æ€§èƒ½åˆ†æ** - Grafanaå¯è§†åŒ–æ€§èƒ½æ•°æ®

#### âš¡ å¼€å‘ä½“éªŒä¼˜åŒ–
- **çƒ­é‡è½½** - æ”¯æŒä»£ç ä¿®æ”¹åè‡ªåŠ¨é‡è½½
- **æœåŠ¡å‘ç°** - è‡ªåŠ¨æœåŠ¡æ³¨å†Œå’Œå‘ç°
- **é…ç½®æ³¨å…¥** - ç»Ÿä¸€çš„é…ç½®ç®¡ç†æœºåˆ¶
- **APIæ–‡æ¡£** - è‡ªåŠ¨ç”Ÿæˆçš„æ¥å£æ–‡æ¡£

---

[â¬†ï¸ è¿”å›ç›®å½•](#-ç›®å½•--table-of-contents)

## ğŸ“š è¯¦ç»†ä½¿ç”¨æŒ‡å—

### æ—¥å¸¸å¼€å‘å·¥ä½œæµ

```bash
# ğŸ“… æ¯æ—¥å¼€å‘æµç¨‹
1. æ£€æŸ¥åŸºç¡€è®¾æ–½çŠ¶æ€
   docker-compose ps

2. å¿«é€Ÿå¯åŠ¨å¼€å‘ç¯å¢ƒ  
   cd src/Aevatar.Aspire
   dotnet run --skip-infrastructure

3. å¼€å‘ä»£ç  â†’ ä¿å­˜ â†’ è‡ªåŠ¨çƒ­é‡è½½ âœ¨

4. æµ‹è¯•éªŒè¯
   - è®¿é—® Swagger UI æµ‹è¯•API
   - æŸ¥çœ‹ Orleans Dashboard ç›‘æ§çŠ¶æ€
   - ä½¿ç”¨ Jaeger è¿½è¸ªè¯·æ±‚é“¾è·¯

5. æäº¤ä»£ç å‰éªŒè¯
   dotnet test  # è¿è¡Œæ‰€æœ‰æµ‹è¯•
```

### é«˜çº§å¯åŠ¨é€‰é¡¹

#### å®Œæ•´å¯åŠ¨æ¨¡å¼
```bash
# å¯åŠ¨æ‰€æœ‰ç»„ä»¶ï¼ŒåŒ…æ‹¬åŸºç¡€è®¾æ–½
dotnet run
```

#### å¿«é€Ÿå¼€å‘æ¨¡å¼
```bash
# è·³è¿‡åŸºç¡€è®¾æ–½å¯åŠ¨ï¼Œé€‚åˆå¼€å‘é˜¶æ®µ
dotnet run --skip-infrastructure
```

#### æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```bash
dotnet run --help
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### ğŸ”§ å†…å­˜ä¼˜åŒ–
```json
// appsettings.json é…ç½®å»ºè®®
{
  "DockerEsConfig": {
    "port": 9200,
    "javaOpts": "-Xms1g -Xmx2g"  // æ ¹æ®æœºå™¨é…ç½®è°ƒæ•´
  }
}
```

#### ğŸš€ å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–
```bash
# 1. é¢„æ‹‰å–Dockeré•œåƒ
docker-compose pull

# 2. å¯ç”¨Docker BuildKit
export DOCKER_BUILDKIT=1

# 3. ä½¿ç”¨SSDå­˜å‚¨Dockeræ•°æ®
# åœ¨Docker Desktopè®¾ç½®ä¸­é…ç½®
```

---

[â¬†ï¸ è¿”å›ç›®å½•](#-ç›®å½•--table-of-contents)

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### Q1: ç¬¬ä¸€æ¬¡å¯åŠ¨å¤±è´¥ï¼Ÿ
```bash
# æ£€æŸ¥å‰ç½®æ¡ä»¶
dotnet --version  # ç¡®è®¤.NET 9 SDK
docker --version  # ç¡®è®¤Dockerè¿è¡Œ

# åˆ†æ­¥å¯åŠ¨æ’æŸ¥
docker-compose up -d  # å…ˆå¯åŠ¨åŸºç¡€è®¾æ–½
docker-compose ps     # ç¡®è®¤æ‰€æœ‰æœåŠ¡Running
```

#### Q2: Orleansé›†ç¾¤æ— æ³•å¯åŠ¨ï¼Ÿ
```bash
# æ£€æŸ¥ç½‘ç»œé…ç½®ï¼ˆmacOSï¼‰
ifconfig lo0
sudo ifconfig lo0 alias 127.0.0.2
sudo ifconfig lo0 alias 127.0.0.3

# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :11111
lsof -i :30000
```

#### Q3: å†…å­˜å ç”¨è¿‡é«˜ï¼Ÿ
```yaml
# docker-compose.yml æ·»åŠ èµ„æºé™åˆ¶
services:
  elasticsearch:
    deploy:
      resources:
        limits:
          memory: 2G
```

### è°ƒè¯•å·¥å…·

#### ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
```bash
# å®¹å™¨çŠ¶æ€
docker-compose ps

# æœåŠ¡æ—¥å¿—
docker-compose logs [service-name]

# ç½‘ç»œè¿æ¥
netstat -tlnp | grep :7002
telnet localhost 27017
```

#### æ€§èƒ½ç›‘æ§
- **Aspire Dashboard** - å®æ—¶æœåŠ¡çŠ¶æ€
- **Grafana** - ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
- **Jaeger** - è¯·æ±‚é“¾è·¯åˆ†æ
- **Orleans Dashboard** - åˆ†å¸ƒå¼ç³»ç»Ÿç›‘æ§

---

[â¬†ï¸ è¿”å›ç›®å½•](#-ç›®å½•--table-of-contents)

## ğŸ“ è¿›é˜¶ä½¿ç”¨

### è‡ªåŠ¨åŒ–å¯åŠ¨è„šæœ¬

åˆ›å»º `start-dev.sh`ï¼š
```bash
#!/bin/bash
echo "ğŸš€ å¯åŠ¨Aevatarå¼€å‘ç¯å¢ƒ..."

# æ£€æŸ¥DockerçŠ¶æ€
if ! docker info > /dev/null 2>&1; then
    echo "âŒ Dockeræœªè¿è¡Œï¼Œè¯·å…ˆå¯åŠ¨Docker"
    exit 1
fi

# å¯åŠ¨åŸºç¡€è®¾æ–½
echo "ğŸ“¦ å¯åŠ¨åŸºç¡€è®¾æ–½..."
docker-compose up -d

# ç­‰å¾…æœåŠ¡å°±ç»ª
echo "â³ ç­‰å¾…æœåŠ¡å¯åŠ¨..."
sleep 30

# é…ç½®Orleansç½‘ç»œ
echo "ğŸŒ é…ç½®Orleansç½‘ç»œ..."
sudo ifconfig lo0 alias 127.0.0.2 2>/dev/null || true
sudo ifconfig lo0 alias 127.0.0.3 2>/dev/null || true

# å¯åŠ¨åº”ç”¨æœåŠ¡
echo "ğŸ¯ å¯åŠ¨åº”ç”¨æœåŠ¡..."
dotnet run --skip-infrastructure

echo "âœ… å¯åŠ¨å®Œæˆï¼è®¿é—® https://localhost:18888 æŸ¥çœ‹çŠ¶æ€"
```

### å¤šç¯å¢ƒé…ç½®

```json
// appsettings.Development.json
{
  "Orleans": {
    "DashboardPort": "8080",
    "Environment": "Development"
  }
}

// appsettings.Production.json  
{
  "Orleans": {
    "DashboardPort": "8081",
    "Environment": "Production"
  }
}
```

### ç›‘æ§å‘Šè­¦é…ç½®

Grafanaå‘Šè­¦è§„åˆ™ç¤ºä¾‹ï¼š
```json
{
  "alert": {
    "name": "High Error Rate",
    "message": "APIé”™è¯¯ç‡è¶…è¿‡5%",
    "frequency": "10s",
    "conditions": [
      {
        "evaluator": {
          "params": [0.05],
          "type": "gt"
        }
      }
    ]
  }
}
```

---

[â¬†ï¸ è¿”å›ç›®å½•](#-ç›®å½•--table-of-contents)

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ğŸ“š ç›¸å…³æ–‡æ¡£
- [.NET Aspireå®˜æ–¹æ–‡æ¡£](https://learn.microsoft.com/en-us/dotnet/aspire/)
- [Microsoft Orleansæ–‡æ¡£](https://docs.microsoft.com/en-us/dotnet/orleans/)  
- [Docker Composeå‚è€ƒ](https://docs.docker.com/compose/)

### ğŸ› é—®é¢˜åé¦ˆ
- **é¡¹ç›®Issues** - æäº¤åˆ°GitHubä»“åº“
- **æŠ€æœ¯è®¨è®º** - å›¢é˜ŸæŠ€æœ¯ç¾¤
- **ç´§æ€¥æ”¯æŒ** - è”ç³»æ¶æ„å¸ˆå›¢é˜Ÿ

### ğŸ¤ è´¡çŒ®æŒ‡å—
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

---

[â¬†ï¸ è¿”å›ç›®å½•](#-ç›®å½•--table-of-contents)

## ğŸ“ˆ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | å‘å¸ƒæ—¥æœŸ | ä¸»è¦ç‰¹æ€§ |
|------|---------|---------|
| **v2.0** | 2024-04 | Orleansé›†ç¾¤ä¼˜åŒ–ï¼Œå¤šSiloæ”¯æŒ |
| **v1.2** | 2024-03 | é›†æˆGrafanaç›‘æ§ä»ªè¡¨æ¿ |
| **v1.1** | 2024-02 | æ·»åŠ Jaegeråˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª |
| **v1.0** | 2024-01 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŸºç¡€Aspireé›†æˆ |

---

**ğŸ­ HyperEcho é¡¹ç›®æ„¿æ™¯**: Aevatar.Aspire ä¸ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯å¹³å°ï¼Œæ›´æ˜¯ç°ä»£åˆ†å¸ƒå¼æ¶æ„çš„æœ€ä½³å®è·µè½½ä½“ã€‚å®ƒè®©å¤æ‚çš„å¾®æœåŠ¡ç¼–æ’å˜å¾—ç®€å•ä¼˜é›…ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºåˆ›é€ ä»·å€¼ï¼Œè€Œä¸æ˜¯ç®¡ç†å¤æ‚æ€§ã€‚

---

*æœ€åæ›´æ–°: 2024å¹´12æœˆ* | *æ–‡æ¡£ç‰ˆæœ¬: v2.0* | *é€‚ç”¨äº: .NET 9 + Aspire* 